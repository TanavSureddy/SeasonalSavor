"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8932],{8932:(b,u,d)=>{d.r(u),d.d(u,{OrdersPageModule:()=>k});var l=d(1368),g=d(4716),a=d(2112),s=d(7632),e=d(4496),_=d(8192),p=d(3976);const m=(o,c,t)=>({inprogressStatus:o,cancelledStatus:c,deliveredStatus:t});function O(o,c){if(1&o){const t=e.KQA();e.I0R(0,"div",11),e.qCj("click",function(){e.usT(t);const r=e.GaO().$implicit,i=e.GaO(2);return e.CGJ(i.openOrderDetails(r))}),e.I0R(1,"div"),e.wR5(2,"img",12),e.C$Y(),e.I0R(3,"div")(4,"div",13),e.OEk(5),e.C$Y(),e.I0R(6,"div",14)(7,"div"),e.OEk(8),e.C$Y(),e.I0R(9,"div"),e.OEk(10),e.C$Y()(),e.I0R(11,"div",15),e.OEk(12),e.C$Y()()()}if(2&o){const t=e.GaO().$implicit;e.yG2(2),e.CI5("src","../../assets/img/",t.products[0].productName.toLowerCase(),".png",e.K6U),e._6D("alt",t.products[0].productName),e.yG2(3),e.oRS("Order Number: ",null==t?null:t.orderId,""),e.yG2(3),e.cNF(null==t?null:t.orderDate),e.yG2(2),e.oRS("Total Amount: \u20b9",null==t?null:t.totalOrderPrice,""),e.yG2(),e.E7m("ngClass",e.uAc(7,m,"In Progress"===(null==t?null:t.progressStatus),"Canceled"===(null==t?null:t.progressStatus),"Delivered"===(null==t?null:t.progressStatus))),e.yG2(),e.oRS(" ",null==t?null:t.progressStatus," ")}}function C(o,c){if(1&o&&(e.I0R(0,"div",9),e.yuY(1,O,13,11,"div",10),e.C$Y()),2&o){const t=e.GaO(2);let n;e.yG2(),e.E7m("ngIf","customer"===(null==(n=t.localStorage.getItem("userType"))?null:n.toLowerCase()))}}function v(o,c){if(1&o&&(e.I0R(0,"div",31),e.wR5(1,"img",12),e.I0R(2,"div")(3,"div"),e.OEk(4),e.C$Y(),e.I0R(5,"div",32),e.OEk(6),e.C$Y(),e.I0R(7,"div",33),e.OEk(8),e.C$Y(),e.I0R(9,"div",34)(10,"div",35),e.OEk(11),e.C$Y()()()()),2&o){const t=c.$implicit;e.yG2(),e.CI5("src","../../assets/img/",t.productName.toLowerCase(),".png",e.K6U),e._6D("alt",t.productName),e.yG2(3),e.oRS("Product ID: ",t.productId,""),e.yG2(2),e.oRS(" Product Name: ",t.productName," "),e.yG2(2),e.oRS("Variant: ",t.variant,""),e.yG2(3),e.cNF(t.totalQuantity)}}function P(o,c){if(1&o){const t=e.KQA();e.I0R(0,"div",9)(1,"h1"),e.OEk(2,"Admin View - Aggregated Product Requirements"),e.C$Y(),e.I0R(3,"ion-item")(4,"ion-label"),e.OEk(5,"Select Area"),e.C$Y(),e.I0R(6,"ion-select",16),e.iHE("ngModelChange",function(r){e.usT(t);const i=e.GaO(2);return e.kNx(i.selectedCity,r)||(i.selectedCity=r),e.CGJ(r)}),e.I0R(7,"ion-select-option",17),e.OEk(8,"Lucknow"),e.C$Y(),e.I0R(9,"ion-select-option",18),e.OEk(10,"Kanpur"),e.C$Y(),e.I0R(11,"ion-select-option",19),e.OEk(12,"Delhi"),e.C$Y()()(),e.I0R(13,"ion-item")(14,"ion-label"),e.OEk(15,"Select Area"),e.C$Y(),e.I0R(16,"ion-select",20),e.iHE("ngModelChange",function(r){e.usT(t);const i=e.GaO(2);return e.kNx(i.selectedArea,r)||(i.selectedArea=r),e.CGJ(r)}),e.I0R(17,"ion-select-option",21),e.OEk(18,"Sector-10"),e.C$Y(),e.I0R(19,"ion-select-option",22),e.OEk(20,"Sector-11"),e.C$Y(),e.I0R(21,"ion-select-option",23),e.OEk(22,"Sector-12"),e.C$Y()()(),e.I0R(23,"ion-item")(24,"ion-select",24),e.iHE("ngModelChange",function(r){e.usT(t);const i=e.GaO(2);return e.kNx(i.selectedBuilding,r)||(i.selectedBuilding=r),e.CGJ(r)}),e.OEk(25," Populate buildings based on the selected city "),e.I0R(26,"ion-select-option",25),e.OEk(27,"Mahagun Mantraa"),e.C$Y(),e.I0R(28,"ion-select-option",26),e.OEk(29,"Amaatra Homes"),e.C$Y(),e.I0R(30,"ion-select-option",27),e.OEk(31,"Sangam Homes"),e.C$Y()()(),e.I0R(32,"ion-button",28),e.qCj("click",function(){e.usT(t);const r=e.GaO(2);return e.CGJ(r.orderServices.fetchAggregatedRequirements(r.selectedCity,r.selectedArea,r.selectedBuilding))}),e.OEk(33,"Fetch Aggregated Requirements"),e.C$Y(),e.I0R(34,"div",29),e.yuY(35,v,12,6,"div",30),e.C$Y()()}if(2&o){const t=e.GaO(2);e.yG2(6),e.OKB("ngModel",t.selectedCity),e.yG2(10),e.OKB("ngModel",t.selectedArea),e.yG2(8),e.OKB("ngModel",t.selectedBuilding),e.yG2(11),e.E7m("ngForOf",t.orderServices.aggregatedRequirements)}}function y(o,c){if(1&o&&(e.I0R(0,"div",31),e.wR5(1,"img",12),e.I0R(2,"div")(3,"div"),e.OEk(4),e.C$Y(),e.I0R(5,"div",32),e.OEk(6),e.C$Y(),e.I0R(7,"div",33),e.OEk(8),e.C$Y(),e.I0R(9,"div",34)(10,"div",35),e.OEk(11),e.C$Y()()()()),2&o){const t=c.$implicit;e.yG2(),e.CI5("src","../../assets/img/",t.productName.toLowerCase(),".png",e.K6U),e._6D("alt",t.productName),e.yG2(3),e.oRS("Product ID: ",t.productId,""),e.yG2(2),e.oRS(" Product Name: ",t.productName," "),e.yG2(2),e.oRS("Variant: ",t.variant,""),e.yG2(3),e.cNF(t.totalQuantity)}}function f(o,c){if(1&o&&(e.I0R(0,"div",29),e.yuY(1,y,12,6,"div",30),e.C$Y()),2&o){const t=e.GaO(3);e.yG2(),e.E7m("ngForOf",t.orderServices.aggregatedRequirements)}}function I(o,c){if(1&o){const t=e.KQA();e.I0R(0,"div",9)(1,"div",11),e.qCj("click",function(){const i=e.usT(t).$implicit,E=e.GaO(4);return e.CGJ(E.orderServices.openFlatOrderDetail(i))}),e.I0R(2,"div",13),e.OEk(3),e.C$Y(),e.I0R(4,"div",13),e.OEk(5),e.C$Y()()()}if(2&o){const t=c.$implicit;e.yG2(3),e.oRS(" Flat Number: ",t.flatNumber," "),e.yG2(2),e.oRS(" Order Number: ",t.orderDetails[0].orderId," ")}}function h(o,c){if(1&o&&e.yuY(0,I,6,2,"div",7),2&o){const t=e.GaO(3);e.E7m("ngForOf",t.orderServices.flatOrders)}}function M(o,c){if(1&o){const t=e.KQA();e.I0R(0,"div",9)(1,"h1"),e.OEk(2,"BS"),e.C$Y(),e.I0R(3,"ion-item")(4,"ion-select",16),e.iHE("ngModelChange",function(r){e.usT(t);const i=e.GaO(2);return e.kNx(i.selectedCity,r)||(i.selectedCity=r),e.CGJ(r)}),e.I0R(5,"ion-select-option",36),e.OEk(6),e.C$Y()()(),e.I0R(7,"ion-item")(8,"ion-select",20),e.iHE("ngModelChange",function(r){e.usT(t);const i=e.GaO(2);return e.kNx(i.selectedArea,r)||(i.selectedArea=r),e.CGJ(r)}),e.I0R(9,"ion-select-option",36),e.OEk(10),e.C$Y()()(),e.I0R(11,"ion-item")(12,"ion-select",24),e.iHE("ngModelChange",function(r){e.usT(t);const i=e.GaO(2);return e.kNx(i.selectedBuilding,r)||(i.selectedBuilding=r),e.CGJ(r)}),e.I0R(13,"ion-select-option",36),e.OEk(14),e.C$Y()()(),e.I0R(15,"ion-button",37),e.qCj("click",function(){e.usT(t);const r=e.GaO(2);return e.CGJ(r.orderServices.fetchAggregatedRequirements(r.selectedCity,r.selectedArea,r.selectedBuilding))}),e.OEk(16,"Fetch Aggregated Requirements"),e.C$Y(),e.I0R(17,"ion-button",37),e.qCj("click",function(){e.usT(t);const r=e.GaO(2);return e.CGJ(r.orderServices.fetchOrdersInformationOfFlat(r.selectedCity,r.selectedArea,r.selectedBuilding))}),e.OEk(18,"fetch order by flat"),e.C$Y(),e.yuY(19,f,2,1,"div",38)(20,h,1,1,"ng-template",null,39,e.gJz),e.C$Y()}if(2&o){const t=e.Gew(21),n=e.GaO(2);e.yG2(4),e.OKB("ngModel",n.selectedCity),e.yG2(),e.E7m("value",n.localStorage.getItem("city")),e.yG2(),e.cNF(n.localStorage.getItem("city")),e.yG2(2),e.OKB("ngModel",n.selectedArea),e.yG2(),e.E7m("value",n.localStorage.getItem("area")),e.yG2(),e.cNF(n.localStorage.getItem("area")),e.yG2(2),e.OKB("ngModel",n.selectedBuilding),e.yG2(),e.E7m("value",n.localStorage.getItem("building")),e.yG2(),e.cNF(n.localStorage.getItem("building")),e.yG2(),e.E7m("color",n.orderServices.isAggregateRequirementsRequired?"primary":"medium"),e.yG2(2),e.E7m("color",n.orderServices.isAggregateRequirementsRequired?"medium":"primary"),e.yG2(2),e.E7m("ngIf",n.orderServices.isAggregateRequirementsRequired)("ngIfElse",t)}}function R(o,c){if(1&o&&(e.I0R(0,"div",6),e.yuY(1,C,2,1,"div",7)(2,P,36,4,"div",8)(3,M,22,13,"div",8),e.C$Y()),2&o){const t=e.GaO();let n,r;e.yG2(),e.E7m("ngForOf",t.orderServices.orderDetail),e.yG2(),e.E7m("ngIf","admin"===(null==(n=t.localStorage.getItem("userType"))?null:n.toLowerCase())),e.yG2(),e.E7m("ngIf","buildingsuperwiser"===(null==(r=t.localStorage.getItem("userType"))?null:r.toLowerCase()))}}function G(o,c){if(1&o){const t=e.KQA();e.I0R(0,"div",40)(1,"p"),e.OEk(2," Please "),e.I0R(3,"a",41),e.qCj("click",function(r){e.usT(t);const i=e.GaO();return e.CGJ(i.login(r))}),e.OEk(4,"Login"),e.C$Y(),e.OEk(5," to view the order details. "),e.C$Y()()}}const x=[{path:"",component:(()=>{class o{constructor(t,n,r,i){this.orderServices=t,this.authServices=n,this.router=r,this.toastController=i,this.localStorage=localStorage,this.selectedCity=localStorage.getItem("city")??"",this.selectedArea=localStorage.getItem("area")??"",this.selectedBuilding=localStorage.getItem("building")??"",this.isAggregateRequirementsRequired=!0,this.aggregatedRequirements=[],this.flatOrders=[]}ngOnInit(){this.router.events.subscribe(t=>{t instanceof s.MT&&this.authServices.isAuthenticated()&&("customer"===this.localStorage.getItem("userType")?.toLowerCase()?this.orderServices.getOrderDetails():(this.selectedCity=localStorage.getItem("city")??"",this.selectedArea=localStorage.getItem("area")??"",this.selectedBuilding=localStorage.getItem("building")??"",this.orderServices.fetchAggregatedRequirements(this.selectedCity,this.selectedArea,this.selectedBuilding)))})}openOrderDetails(t){this.orderServices.getOrderDetailsById(t.orderId),this.orderServices.calculateOrderTotal(t),this.router.navigate(["/order-details"])}login(t){t&&t.preventDefault(),this.router.navigateByUrl("/login")}static#e=this.\u0275fac=function(n){return new(n||o)(e.GI1(_.w),e.GI1(p.o),e.GI1(s.E5),e.GI1(a.Gq))};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-orders"]],decls:10,vars:4,consts:[[3,"translucent"],["slot","start"],["text","","icon","arrow-back","defaultHref","tabs/home"],[3,"fullscreen"],["class","ion-padding-horizontal",4,"ngIf","ngIfElse"],["notAuthenticated",""],[1,"ion-padding-horizontal"],["class","orderList",4,"ngFor","ngForOf"],["class","orderList",4,"ngIf"],[1,"orderList"],["class","orderWrapper",3,"click",4,"ngIf"],[1,"orderWrapper",3,"click"],[3,"src","alt"],[1,"orderNumber"],[1,"orderDetails"],[3,"ngClass"],["label","Select City",3,"ngModel","ngModelChange"],["value","Lucknow"],["value","Kanpur"],["value","Delhi"],["label","Select Area",3,"ngModel","ngModelChange"],["value","Sector-10"],["value","Sector-11"],["value","Sector-12"],["label","Select Building",3,"ngModel","ngModelChange"],["value","Mahagun Mantraa"],["value","Amaatra Homes"],["value","Sangam Homes"],[3,"click"],[1,"cartProductList"],["class","cartProductWrapper",4,"ngFor","ngForOf"],[1,"cartProductWrapper"],[1,"productName"],[1,"productVariant"],[1,"cartQtyAmount"],[1,"qtyCount"],[3,"value"],[3,"color","click"],["class","cartProductList",4,"ngIf","ngIfElse"],["flastwiseRequirementRequired",""],[1,"ion-padding"],["href","#",3,"click"]],template:function(n,r){if(1&n&&(e.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.OEk(3,"Orders"),e.C$Y(),e.I0R(4,"ion-buttons",1),e.wR5(5,"ion-back-button",2),e.C$Y()()(),e.I0R(6,"ion-content",3),e.yuY(7,R,4,3,"div",4)(8,G,6,0,"ng-template",null,5,e.gJz),e.C$Y()),2&n){const i=e.Gew(9);e.E7m("translucent",!0),e.yG2(6),e.E7m("fullscreen",!0),e.yG2(),e.E7m("ngIf",r.localStorage.getItem("loggedIn"))("ngIfElse",i)}},dependencies:[l.QF,l.ay,l.u_,g.ue,g._G,a.sn,a.GS,a._i,a.wB,a.Yb,a.QR,a.Cy,a.gd,a.tM,a.Md,a.IT,a.Im],styles:[".orderList[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;row-gap:25px}.orderList[_ngcontent-%COMP%]   .orderWrapper[_ngcontent-%COMP%]{border-bottom-color:var(--border-color);border-bottom-width:1px;border-bottom-style:solid;padding:20px 0;display:grid;grid-template-columns:30px 1fr;column-gap:20px;position:relative}.orderList[_ngcontent-%COMP%]   .orderWrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:auto}.orderList[_ngcontent-%COMP%]   .orderWrapper[_ngcontent-%COMP%]   .orderNumber[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--ion-color-dark);margin:0 0 5px}.orderList[_ngcontent-%COMP%]   .orderWrapper[_ngcontent-%COMP%]   .orderDetails[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;column-gap:25px;align-items:center;margin:5px 0 10px}.orderList[_ngcontent-%COMP%]   .orderWrapper[_ngcontent-%COMP%]   .inprogressStatus[_ngcontent-%COMP%]{border-color:var(--inprogress-status);color:var(--inprogress-status);border-width:1px;border-radius:10px;border-style:solid;padding:8px 15px;display:inline-block}.orderList[_ngcontent-%COMP%]   .orderWrapper[_ngcontent-%COMP%]   .cancelledStatus[_ngcontent-%COMP%]{border-color:var(--ion-color-secondary);color:var(--ion-color-secondary);border-width:1px;border-radius:10px;border-style:solid;padding:8px 15px;display:inline-block}.orderList[_ngcontent-%COMP%]   .orderWrapper[_ngcontent-%COMP%]   .deliveredStatus[_ngcontent-%COMP%]{border-color:var(--ion-color-primary);color:var(--ion-color-primary);border-width:1px;border-radius:10px;border-style:solid;padding:8px 15px;display:inline-block}.orderList[_ngcontent-%COMP%]   .cartProductList[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr}.orderList[_ngcontent-%COMP%]   .cartProductList[_ngcontent-%COMP%]   .cartProductWrapper[_ngcontent-%COMP%]{border-bottom-color:var(--border-color);border-bottom-width:1px;border-bottom-style:solid;padding:16px 0;display:grid;grid-template-columns:85px 1fr;column-gap:20px;position:relative}.orderList[_ngcontent-%COMP%]   .cartProductList[_ngcontent-%COMP%]   .cartProductWrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:85px;height:auto}.orderList[_ngcontent-%COMP%]   .cartProductList[_ngcontent-%COMP%]   .cartProductWrapper[_ngcontent-%COMP%]   .productPrice[_ngcontent-%COMP%]{font-size:13px;color:var(--ion-color-dark)}.orderList[_ngcontent-%COMP%]   .cartProductList[_ngcontent-%COMP%]   .cartProductWrapper[_ngcontent-%COMP%]   .productName[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--ion-color-dark);margin:0 0 5px}.orderList[_ngcontent-%COMP%]   .cartProductList[_ngcontent-%COMP%]   .cartProductWrapper[_ngcontent-%COMP%]   .productVariant[_ngcontent-%COMP%]{font-size:13px;color:var(--product-variant-color);font-weight:700;margin:8px 0}.orderList[_ngcontent-%COMP%]   .cartProductList[_ngcontent-%COMP%]   .cartProductWrapper[_ngcontent-%COMP%]   .cartQtyAmount[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;column-gap:25px;align-items:center;margin:5px 0 0}.orderList[_ngcontent-%COMP%]   .cartProductList[_ngcontent-%COMP%]   .cartProductWrapper[_ngcontent-%COMP%]   .cartQtyAmount[_ngcontent-%COMP%]   .qtyCount[_ngcontent-%COMP%]{width:50px;height:35px;line-height:35px;margin:0;text-align:center;border-color:var(--border-color);border-width:1px;border-style:solid;border-radius:10px}.orderList[_ngcontent-%COMP%]   .cartProductList[_ngcontent-%COMP%]   .cartProductWrapper[_ngcontent-%COMP%]   .cartQtyAmount[_ngcontent-%COMP%]   .totalAmount[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.orderList[_ngcontent-%COMP%]   .cartProductList[_ngcontent-%COMP%]   .cartProductWrapper[_ngcontent-%COMP%]   .cartQtyAmount[_ngcontent-%COMP%]   .orderNumber[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--ion-color-dark);margin:0 0 5px}"]})}return o})()}];let S=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.a4G({type:o});static#r=this.\u0275inj=e.s3X({imports:[s.qQ.forChild(x),s.qQ]})}return o})(),k=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.a4G({type:o});static#r=this.\u0275inj=e.s3X({imports:[l.MD,g.y,a.wZ,S]})}return o})()}}]);