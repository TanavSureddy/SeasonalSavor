{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport let CartService = /*#__PURE__*/(() => {\n  class CartService {\n    constructor() {\n      this.cartItems = [];\n      this.totalCartValue = 0; // Total amount to be paid for checkout\n    }\n    addToCart(product) {\n      const index = this.cartItems.findIndex(item => item.productId === product.productId);\n      if (index !== -1) {\n        this.cartItems[index].quantity++;\n        this.totalCartValue += product.price;\n      } else {\n        product.quantity += 1;\n        this.totalCartValue += product.price;\n        //console.log(\"total cart value\", this.totalCartValue);\n        this.cartItems.push(product);\n      }\n    }\n    removeFromCart(productId) {\n      const index = this.cartItems.findIndex(item => item.productId === productId);\n      if (index !== -1) {\n        if (this.cartItems[index].quantity > 1) {\n          this.cartItems[index].quantity--;\n          this.totalCartValue -= this.cartItems[index].price;\n        } else {\n          this.totalCartValue -= this.cartItems[index].price;\n          this.cartItems[index].quantity = 0;\n          this.cartItems.splice(index, 1);\n        }\n      }\n    }\n    clearCart() {\n      this.cartItems.forEach(item => {\n        item.quantity = 0;\n      });\n      this.cartItems.splice(0, this.cartItems.length);\n      this.totalCartValue = 0;\n    }\n    getCartItems() {\n      return this.cartItems;\n    }\n    static #_ = this.ɵfac = function CartService_Factory(t) {\n      return new (t || CartService)();\n    };\n    static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: CartService,\n      factory: CartService.ɵfac,\n      providedIn: \"root\"\n    });\n  }\n  return CartService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}