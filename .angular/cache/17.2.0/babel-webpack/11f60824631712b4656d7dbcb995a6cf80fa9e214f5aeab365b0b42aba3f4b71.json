{"ast":null,"code":"import { Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"../../../services/data-sharing.services\";\nimport * as i4 from \"../../../services/globals\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@ionic/angular\";\nfunction LoginPage_ion_select_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select\", 23)(1, \"ion-select-option\", 24);\n    i0.ɵɵtext(2, \"Lucknow\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-select-option\", 25);\n    i0.ɵɵtext(4, \"Kanpur\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-select-option\", 26);\n    i0.ɵɵtext(6, \"Delhi\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoginPage_ion_select_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select\", 27)(1, \"ion-select-option\", 28);\n    i0.ɵɵtext(2, \"Sector-10\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-select-option\", 29);\n    i0.ɵɵtext(4, \"Sector-11\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-select-option\", 30);\n    i0.ɵɵtext(6, \"Sector-12\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoginPage_ion_select_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select\", 31)(1, \"ion-select-option\", 32);\n    i0.ɵɵtext(2, \"Amaatra Homes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-select-option\", 33);\n    i0.ɵɵtext(4, \"Sangam Homes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-select-option\", 34);\n    i0.ɵɵtext(6, \"Mahagun Mantraa\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoginPage_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35)(1, \"h3\");\n    i0.ɵɵtext(2, \"Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"ion-input\", 36);\n    i0.ɵɵelementStart(4, \"ion-select\", 37)(5, \"ion-select-option\", 38);\n    i0.ɵɵtext(6, \"1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ion-select-option\", 39);\n    i0.ɵɵtext(8, \"2\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"ion-select-option\", 40);\n    i0.ɵɵtext(10, \"3\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction LoginPage_ion_input_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-input\", 41);\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵclassProp(\"invalid\", ((tmp_0_0 = ctx_r4.loginForm.get(\"name\")) == null ? null : tmp_0_0.invalid) && ((tmp_0_0 = ctx_r4.loginForm.get(\"name\")) == null ? null : tmp_0_0.touched));\n  }\n}\nfunction LoginPage_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵtext(1, \" Alphabetic characters and spaces allowed. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginPage_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵtext(1, \" 10-digit Mobile number required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let LoginPage = /*#__PURE__*/(() => {\n  class LoginPage {\n    constructor(router, fb, dataSharingService, globals) {\n      this.router = router;\n      this.fb = fb;\n      this.dataSharingService = dataSharingService;\n      this.globals = globals;\n      this.forDataTobeSendForAdminRegistration = {};\n      this.globals.authenticated = false;\n      this.initializeLoginForm();\n    }\n    initializeLoginForm() {\n      this.loginForm = this.fb.group({\n        userType: [\"\", [Validators.required]],\n        name: [\"\", [Validators.required, Validators.pattern(\"^[a-zA-Z ]+$\")]],\n        mobileNumber: [\"\", [Validators.required, Validators.pattern(\"^[0-9]{10}$\")]],\n        city: [\"\", [Validators.required]],\n        area: [\"\", [Validators.required]],\n        building: [\"\", [Validators.required]],\n        flatNumber: [\"\", Validators.required],\n        floor: [\"\", Validators.required]\n      });\n      this.updateValidators();\n    }\n    updateValidators() {\n      const nameControl = this.loginForm.get(\"name\");\n      const mobileNumberControl = this.loginForm.get(\"mobileNumber\");\n      const cityControl = this.loginForm.get(\"city\");\n      const areaControl = this.loginForm.get(\"area\");\n      const buildingControl = this.loginForm.get(\"building\");\n      const flatNumberControl = this.loginForm.get(\"flatNumber\");\n      const floorControl = this.loginForm.get(\"floor\");\n      if (this.dataSharingService.loginMode) {\n        nameControl?.clearValidators();\n        cityControl?.clearValidators();\n        areaControl?.clearValidators();\n        buildingControl?.clearValidators();\n        flatNumberControl?.clearValidators();\n        floorControl?.clearValidators();\n        mobileNumberControl?.setValidators([Validators.required, Validators.pattern(\"^[0-9]{10}$\")]);\n      } else {\n        nameControl?.setValidators([Validators.required, Validators.pattern(\"^[a-zA-Z ]+$\")]);\n        mobileNumberControl?.setValidators([Validators.required, Validators.pattern(\"^[0-9]{10}$\")]);\n      }\n      nameControl?.updateValueAndValidity();\n      mobileNumberControl?.updateValueAndValidity();\n    }\n    loginMode(event) {\n      if (event) {\n        event.preventDefault();\n      }\n      this.dataSharingService.loginMode = true;\n      this.updateValidators();\n    }\n    signUpMode(event) {\n      if (event) {\n        event.preventDefault();\n      }\n      this.dataSharingService.loginMode = false;\n      this.updateValidators();\n    }\n    redirectToOTP() {\n      if (this.loginForm.valid) {\n        const formData = this.loginForm.value;\n        // if (formData.userType === \"Admin\") {\n        //   this.forDataTobeSendForAdminRegistration = {\n        //     userType: formData.userType,\n        //     name: formData.name,\n        //     mobileNumber: formData.mobileNumber,\n        //     city: formData.city,\n        //   };\n        // } else {\n        //   this.forDataTobeSendForAdminRegistration = formData;\n        // }\n        const dataToSend = this.dataSharingService.loginMode ? {\n          mobileNumber: formData.mobileNumber,\n          userType: formData.userType\n        } : formData;\n        this.dataSharingService.setFormData(dataToSend);\n        this.router.navigate([\"/otp\"]);\n      } else {\n        Object.values(this.loginForm.controls).forEach(control => control.markAsTouched());\n      }\n    }\n    onUserTypeChange() {\n      const userTypeControl = this.loginForm.get(\"userType\");\n      const userType = userTypeControl?.value;\n      //console.log(\"userType\", userType);\n      const areaControl = this.loginForm.get(\"area\");\n      const buildingCOntrol = this.loginForm.get(\"building\");\n      // if (userType === \"Admin\") {\n      //   areaControl?.clearValidators();\n      //   areaControl?.updateValueAndValidity();\n      //   buildingCOntrol?.clearValidators();\n      //   buildingCOntrol?.updateValueAndValidity();\n      // } else {\n      //   areaControl?.setValidators([Validators.required]),\n      //     buildingCOntrol?.setValidators([Validators.required]);\n      // }\n    }\n    static #_ = this.ɵfac = function LoginPage_Factory(t) {\n      return new (t || LoginPage)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.DataSharingService), i0.ɵɵdirectiveInject(i4.Globals));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginPage,\n      selectors: [[\"app-login\"]],\n      decls: 41,\n      vars: 16,\n      consts: [[3, \"fullscreen\"], [1, \"pageWrapper\"], [1, \"topWrapper\"], [1, \"bottomWrapper\"], [1, \"pageHeading\"], [\"href\", \"#\", 3, \"click\"], [1, \"pageRow\", \"ion-padding-horizontal\"], [3, \"formGroup\"], [\"placeholder\", \"Select User Type\", \"formControlName\", \"userType\", 1, \"ion-margin-bottom\", 3, \"ionChange\"], [\"value\", \"Admin\"], [\"value\", \"BuildingSuperwiser\"], [\"value\", \"Customer\"], [\"placeholder\", \"Select City\", \"class\", \"ion-margin-bottom\", \"formControlName\", \"city\", 4, \"ngIf\"], [\"placeholder\", \"Select Local Area\", \"class\", \"ion-margin-bottom\", \"formControlName\", \"area\", 4, \"ngIf\"], [\"placeholder\", \"Select Building/Apartment\", \"class\", \"ion-margin-bottom\", \"formControlName\", \"building\", 4, \"ngIf\"], [\"class\", \"ion-padding-top\", 4, \"ngIf\"], [\"formControlName\", \"name\", \"type\", \"text\", \"placeholder\", \"Enter Name\", \"class\", \"ion-padding-horizontal ion-margin-bottom\", 3, \"invalid\", 4, \"ngIf\"], [\"class\", \"invalid-message\", 4, \"ngIf\"], [\"formControlName\", \"mobileNumber\", \"type\", \"number\", \"placeholder\", \"Enter Mobile Number\", 1, \"ion-padding-horizontal\", \"ion-margin-bottom\"], [\"expand\", \"block\", 3, \"disabled\", \"click\"], [1, \"contidionLabel\"], [\"href\", \"#\"], [\"href\", \"\"], [\"placeholder\", \"Select City\", \"formControlName\", \"city\", 1, \"ion-margin-bottom\"], [\"value\", \"Lucknow\"], [\"value\", \"Kanpur\"], [\"value\", \"Delhi\"], [\"placeholder\", \"Select Local Area\", \"formControlName\", \"area\", 1, \"ion-margin-bottom\"], [\"value\", \"Sector-10\"], [\"value\", \"Sector-11\"], [\"value\", \"Sector-12\"], [\"placeholder\", \"Select Building/Apartment\", \"formControlName\", \"building\", 1, \"ion-margin-bottom\"], [\"value\", \"Amaatra Homes\"], [\"value\", \"Sangam Homes\"], [\"value\", \"Mahagun Mantraa\"], [1, \"ion-padding-top\"], [\"type\", \"number\", \"placeholder\", \"Enter Flat/House Number\", \"formControlName\", \"flatNumber\", 1, \"ion-margin-bottom\"], [\"placeholder\", \"Select Floor\", \"formControlName\", \"floor\", 1, \"ion-margin-bottom\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"formControlName\", \"name\", \"type\", \"text\", \"placeholder\", \"Enter Name\", 1, \"ion-padding-horizontal\", \"ion-margin-bottom\"], [1, \"invalid-message\"]],\n      template: function LoginPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-content\", 0)(1, \"div\", 1);\n          i0.ɵɵelement(2, \"div\", 2);\n          i0.ɵɵelementStart(3, \"div\", 3)(4, \"div\", 4)(5, \"h1\");\n          i0.ɵɵtext(6, \"Welcome\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"p\")(8, \"a\", 5);\n          i0.ɵɵlistener(\"click\", function LoginPage_Template_a_click_8_listener($event) {\n            return ctx.loginMode($event);\n          });\n          i0.ɵɵtext(9, \"Login\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(10, \" or \");\n          i0.ɵɵelementStart(11, \"a\", 5);\n          i0.ɵɵlistener(\"click\", function LoginPage_Template_a_click_11_listener($event) {\n            return ctx.signUpMode($event);\n          });\n          i0.ɵɵtext(12, \"Signup\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(13, \" to continue \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(14, \"div\", 6)(15, \"form\", 7)(16, \"ion-select\", 8);\n          i0.ɵɵlistener(\"ionChange\", function LoginPage_Template_ion_select_ionChange_16_listener() {\n            return ctx.onUserTypeChange();\n          });\n          i0.ɵɵelementStart(17, \"ion-select-option\", 9);\n          i0.ɵɵtext(18, \"Admin\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"ion-select-option\", 10);\n          i0.ɵɵtext(20, \"Building-Admin\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"ion-select-option\", 11);\n          i0.ɵɵtext(22, \"Customer\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(23, LoginPage_ion_select_23_Template, 7, 0, \"ion-select\", 12)(24, LoginPage_ion_select_24_Template, 7, 0, \"ion-select\", 13)(25, LoginPage_ion_select_25_Template, 7, 0, \"ion-select\", 14)(26, LoginPage_div_26_Template, 11, 0, \"div\", 15)(27, LoginPage_ion_input_27_Template, 1, 2, \"ion-input\", 16)(28, LoginPage_div_28_Template, 2, 0, \"div\", 17);\n          i0.ɵɵelement(29, \"ion-input\", 18);\n          i0.ɵɵtemplate(30, LoginPage_div_30_Template, 2, 0, \"div\", 17);\n          i0.ɵɵelementStart(31, \"ion-button\", 19);\n          i0.ɵɵlistener(\"click\", function LoginPage_Template_ion_button_click_31_listener() {\n            return ctx.redirectToOTP();\n          });\n          i0.ɵɵtext(32, \"Continue\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"div\", 20);\n          i0.ɵɵtext(34, \" By continuing you agree to our \");\n          i0.ɵɵelement(35, \"br\");\n          i0.ɵɵelementStart(36, \"span\")(37, \"a\", 21);\n          i0.ɵɵtext(38, \"Terms of services\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"a\", 22);\n          i0.ɵɵtext(40, \"Privacy Policy\");\n          i0.ɵɵelementEnd()()()()()()()();\n        }\n        if (rf & 2) {\n          let tmp_9_0;\n          let tmp_10_0;\n          let tmp_11_0;\n          i0.ɵɵproperty(\"fullscreen\", true);\n          i0.ɵɵadvance(8);\n          i0.ɵɵclassProp(\"active\", ctx.dataSharingService.loginMode);\n          i0.ɵɵadvance(3);\n          i0.ɵɵclassProp(\"active\", !ctx.dataSharingService.loginMode);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngIf\", !ctx.dataSharingService.loginMode);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.dataSharingService.loginMode);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.dataSharingService.loginMode);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.dataSharingService.loginMode);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.dataSharingService.loginMode);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx.loginForm.get(\"name\")) == null ? null : tmp_9_0.invalid) && ((tmp_9_0 = ctx.loginForm.get(\"name\")) == null ? null : tmp_9_0.touched));\n          i0.ɵɵadvance();\n          i0.ɵɵclassProp(\"invalid\", ((tmp_10_0 = ctx.loginForm.get(\"mobileNumber\")) == null ? null : tmp_10_0.invalid) && ((tmp_10_0 = ctx.loginForm.get(\"mobileNumber\")) == null ? null : tmp_10_0.touched));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_11_0 = ctx.loginForm.get(\"mobileNumber\")) == null ? null : tmp_11_0.invalid) && ((tmp_11_0 = ctx.loginForm.get(\"mobileNumber\")) == null ? null : tmp_11_0.touched));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", ctx.loginForm.invalid);\n        }\n      },\n      dependencies: [i5.NgIf, i2.ɵNgNoValidate, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i6.IonButton, i6.IonContent, i6.IonInput, i6.IonSelect, i6.IonSelectOption, i6.NumericValueAccessor, i6.SelectValueAccessor, i6.TextValueAccessor],\n      styles: [\".pageWrapper[_ngcontent-%COMP%]   .topWrapper[_ngcontent-%COMP%]{background-image:url(login-bg.c51f8c1dd788e282.jpg);background-size:cover;width:100%;height:50vh;display:flex;border-bottom-left-radius:100px;border-bottom-right-radius:100px}.pageWrapper[_ngcontent-%COMP%]   .bottomWrapper[_ngcontent-%COMP%]{height:50vh;padding:30px 0}.pageWrapper[_ngcontent-%COMP%]   .bottomWrapper[_ngcontent-%COMP%]   .pageHeading[_ngcontent-%COMP%]{padding:10px 0;margin:0 0 20px;text-align:center}.pageWrapper[_ngcontent-%COMP%]   .bottomWrapper[_ngcontent-%COMP%]   .pageHeading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000000de;font-size:35px;font-style:normal;font-weight:700;line-height:50px;margin:0;padding:0}.pageWrapper[_ngcontent-%COMP%]   .bottomWrapper[_ngcontent-%COMP%]   .pageHeading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000000de;font-size:16px;font-style:normal;font-weight:500;line-height:normal;margin:0;padding:0}.pageWrapper[_ngcontent-%COMP%]   .bottomWrapper[_ngcontent-%COMP%]   .pageRow[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]::part(container){width:100%;height:44px;margin:0;border-bottom-color:var(--border-color);border-bottom-width:1px;border-bottom-style:solid}.pageWrapper[_ngcontent-%COMP%]   .bottomWrapper[_ngcontent-%COMP%]   .pageRow[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{width:100%;height:50px;border-color:var(--border-color);border-width:1px;border-style:solid;--border-radius: 10px;border-radius:10px}.pageWrapper[_ngcontent-%COMP%]   .bottomWrapper[_ngcontent-%COMP%]   .pageRow[_ngcontent-%COMP%]   .contidionLabel[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:20px 0 0;line-height:25px}.pageWrapper[_ngcontent-%COMP%]   .bottomWrapper[_ngcontent-%COMP%]   .pageRow[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%]{border-color:red}.pageWrapper[_ngcontent-%COMP%]   .bottomWrapper[_ngcontent-%COMP%]   .pageRow[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:4px}\"]\n    });\n  }\n  return LoginPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}