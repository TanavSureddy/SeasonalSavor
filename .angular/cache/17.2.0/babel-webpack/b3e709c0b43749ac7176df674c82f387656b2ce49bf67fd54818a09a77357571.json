{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class CartService {\n  constructor() {\n    this.cartItems = [];\n    this.totalCartValue = 0; // Total amount to be paid for checkout\n  }\n  addToCart(product) {\n    const index = this.cartItems.findIndex(item => item.productId === product.productId);\n    if (index !== -1) {\n      this.cartItems[index].quantity++;\n      this.totalCartValue += product.price;\n    } else {\n      product.quantity += 1;\n      this.totalCartValue += product.price;\n      //console.log(\"total cart value\", this.totalCartValue);\n      this.cartItems.push(product);\n    }\n  }\n  removeFromCart(productId) {\n    const index = this.cartItems.findIndex(item => item.productId === productId);\n    if (index !== -1) {\n      if (this.cartItems[index].quantity > 1) {\n        this.cartItems[index].quantity--;\n        this.totalCartValue -= this.cartItems[index].price;\n      } else {\n        this.totalCartValue -= this.cartItems[index].price;\n        this.cartItems[index].quantity = 0;\n        this.cartItems.splice(index, 1);\n      }\n    }\n  }\n  clearCart() {\n    this.cartItems.forEach(item => {\n      item.quantity = 0;\n    });\n    this.cartItems.splice(0, this.cartItems.length);\n    this.totalCartValue = 0;\n  }\n  getCartItems() {\n    return this.cartItems;\n  }\n  static #_ = this.ɵfac = function CartService_Factory(t) {\n    return new (t || CartService)();\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: CartService,\n    factory: CartService.ɵfac,\n    providedIn: \"root\"\n  });\n}","map":{"version":3,"names":["CartService","constructor","cartItems","totalCartValue","addToCart","product","index","findIndex","item","productId","quantity","price","push","removeFromCart","splice","clearCart","forEach","length","getCartItems","_","_2","factory","ɵfac","providedIn"],"sources":["/Users/aditya/Documents/apps/grocery-app/src/app/services/cart/cart.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { Product } from \"../globals\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class CartService {\n  constructor() {}\n\n  cartItems: Array<Product> = [];\n  totalCartValue: number = 0; // Total amount to be paid for checkout\n\n  addToCart(product: Product) {\n    const index = this.cartItems.findIndex(\n      (item) => item.productId === product.productId\n    );\n    if (index !== -1) {\n      this.cartItems[index].quantity++;\n      this.totalCartValue += product.price;\n    } else {\n      product.quantity += 1;\n      this.totalCartValue += product.price;\n      //console.log(\"total cart value\", this.totalCartValue);\n      this.cartItems.push(product);\n    }\n  }\n\n  removeFromCart(productId: number) {\n    const index = this.cartItems.findIndex(\n      (item) => item.productId === productId\n    );\n\n    if (index !== -1) {\n      if (this.cartItems[index].quantity > 1) {\n        this.cartItems[index].quantity--;\n        this.totalCartValue -= this.cartItems[index].price;\n      } else {\n        this.totalCartValue -= this.cartItems[index].price;\n        this.cartItems[index].quantity = 0;\n        this.cartItems.splice(index, 1);\n      }\n    }\n  }\n\n  clearCart() {\n    this.cartItems.forEach((item) => {\n      item.quantity = 0;\n    });\n    this.cartItems.splice(0, this.cartItems.length);\n    this.totalCartValue = 0;\n  }\n\n  getCartItems() {\n    return this.cartItems;\n  }\n}\n"],"mappings":";AAMA,OAAM,MAAOA,WAAW;EACtBC,YAAA;IAEA,KAAAC,SAAS,GAAmB,EAAE;IAC9B,KAAAC,cAAc,GAAW,CAAC,CAAC,CAAC;EAHb;EAKfC,SAASA,CAACC,OAAgB;IACxB,MAAMC,KAAK,GAAG,IAAI,CAACJ,SAAS,CAACK,SAAS,CACnCC,IAAI,IAAKA,IAAI,CAACC,SAAS,KAAKJ,OAAO,CAACI,SAAS,CAC/C;IACD,IAAIH,KAAK,KAAK,CAAC,CAAC,EAAE;MAChB,IAAI,CAACJ,SAAS,CAACI,KAAK,CAAC,CAACI,QAAQ,EAAE;MAChC,IAAI,CAACP,cAAc,IAAIE,OAAO,CAACM,KAAK;IACtC,CAAC,MAAM;MACLN,OAAO,CAACK,QAAQ,IAAI,CAAC;MACrB,IAAI,CAACP,cAAc,IAAIE,OAAO,CAACM,KAAK;MACpC;MACA,IAAI,CAACT,SAAS,CAACU,IAAI,CAACP,OAAO,CAAC;IAC9B;EACF;EAEAQ,cAAcA,CAACJ,SAAiB;IAC9B,MAAMH,KAAK,GAAG,IAAI,CAACJ,SAAS,CAACK,SAAS,CACnCC,IAAI,IAAKA,IAAI,CAACC,SAAS,KAAKA,SAAS,CACvC;IAED,IAAIH,KAAK,KAAK,CAAC,CAAC,EAAE;MAChB,IAAI,IAAI,CAACJ,SAAS,CAACI,KAAK,CAAC,CAACI,QAAQ,GAAG,CAAC,EAAE;QACtC,IAAI,CAACR,SAAS,CAACI,KAAK,CAAC,CAACI,QAAQ,EAAE;QAChC,IAAI,CAACP,cAAc,IAAI,IAAI,CAACD,SAAS,CAACI,KAAK,CAAC,CAACK,KAAK;MACpD,CAAC,MAAM;QACL,IAAI,CAACR,cAAc,IAAI,IAAI,CAACD,SAAS,CAACI,KAAK,CAAC,CAACK,KAAK;QAClD,IAAI,CAACT,SAAS,CAACI,KAAK,CAAC,CAACI,QAAQ,GAAG,CAAC;QAClC,IAAI,CAACR,SAAS,CAACY,MAAM,CAACR,KAAK,EAAE,CAAC,CAAC;MACjC;IACF;EACF;EAEAS,SAASA,CAAA;IACP,IAAI,CAACb,SAAS,CAACc,OAAO,CAAER,IAAI,IAAI;MAC9BA,IAAI,CAACE,QAAQ,GAAG,CAAC;IACnB,CAAC,CAAC;IACF,IAAI,CAACR,SAAS,CAACY,MAAM,CAAC,CAAC,EAAE,IAAI,CAACZ,SAAS,CAACe,MAAM,CAAC;IAC/C,IAAI,CAACd,cAAc,GAAG,CAAC;EACzB;EAEAe,YAAYA,CAAA;IACV,OAAO,IAAI,CAAChB,SAAS;EACvB;EAAC,QAAAiB,CAAA,G;qBAhDUnB,WAAW;EAAA;EAAA,QAAAoB,EAAA,G;WAAXpB,WAAW;IAAAqB,OAAA,EAAXrB,WAAW,CAAAsB,IAAA;IAAAC,UAAA,EAFV;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}