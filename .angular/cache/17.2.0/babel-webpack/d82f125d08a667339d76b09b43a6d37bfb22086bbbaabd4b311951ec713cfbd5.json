{"ast":null,"code":"import _asyncToGenerator from \"/Users/yogendra/repos/grocery/grocery-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../globals\";\nexport class AuthService {\n  constructor(router, globals) {\n    this.router = router;\n    this.globals = globals;\n  }\n  isAuthenticated() {\n    return localStorage.getItem(\"loggedIn\") === \"true\";\n  }\n  // Get user\n  // getSession() {\n  //   this.globals.getLocalData(\"loggedIn\");\n  // }\n  getUser() {\n    return this.globals.localUser;\n  }\n  // Sign out\n  signOut() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.globals.removeLocalData(_this.globals.USER);\n      _this.globals.removeLocalData(_this.globals.AUTH_TOKEN);\n      _this.globals.removeLocalData(_this.globals.PROVIDER);\n      _this.globals.authenticated = false;\n      _this.router.navigateByUrl(\"/signin\");\n    })();\n  }\n  static #_ = this.ɵfac = function AuthService_Factory(t) {\n    return new (t || AuthService)(i0.ɵɵinject(i1.Router), i0.ɵɵinject(i2.Globals));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AuthService,\n    factory: AuthService.ɵfac,\n    providedIn: \"root\"\n  });\n}","map":{"version":3,"names":["AuthService","constructor","router","globals","isAuthenticated","localStorage","getItem","getUser","localUser","signOut","_this","_asyncToGenerator","removeLocalData","USER","AUTH_TOKEN","PROVIDER","authenticated","navigateByUrl","_","i0","ɵɵinject","i1","Router","i2","Globals","_2","factory","ɵfac","providedIn"],"sources":["/Users/yogendra/repos/grocery/grocery-app/src/app/services/auth/auth.services.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { Globals } from \"../globals\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class AuthService {\r\n  resMessage!: string;\r\n\r\n  constructor(private router: Router, private globals: Globals) {}\r\n\r\n  isAuthenticated() {\r\n    return localStorage.getItem(\"loggedIn\") === \"true\";\r\n  }\r\n\r\n  // Get user\r\n  // getSession() {\r\n  //   this.globals.getLocalData(\"loggedIn\");\r\n  // }\r\n\r\n  getUser() {\r\n    return this.globals.localUser;\r\n  }\r\n\r\n  // Sign out\r\n  async signOut() {\r\n    this.globals.removeLocalData(this.globals.USER);\r\n    this.globals.removeLocalData(this.globals.AUTH_TOKEN);\r\n    this.globals.removeLocalData(this.globals.PROVIDER);\r\n    this.globals.authenticated = false;\r\n    this.router.navigateByUrl(\"/signin\");\r\n  }\r\n}\r\n"],"mappings":";;;;AAOA,OAAM,MAAOA,WAAW;EAGtBC,YAAoBC,MAAc,EAAUC,OAAgB;IAAxC,KAAAD,MAAM,GAANA,MAAM;IAAkB,KAAAC,OAAO,GAAPA,OAAO;EAAY;EAE/DC,eAAeA,CAAA;IACb,OAAOC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,KAAK,MAAM;EACpD;EAEA;EACA;EACA;EACA;EAEAC,OAAOA,CAAA;IACL,OAAO,IAAI,CAACJ,OAAO,CAACK,SAAS;EAC/B;EAEA;EACMC,OAAOA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACXD,KAAI,CAACP,OAAO,CAACS,eAAe,CAACF,KAAI,CAACP,OAAO,CAACU,IAAI,CAAC;MAC/CH,KAAI,CAACP,OAAO,CAACS,eAAe,CAACF,KAAI,CAACP,OAAO,CAACW,UAAU,CAAC;MACrDJ,KAAI,CAACP,OAAO,CAACS,eAAe,CAACF,KAAI,CAACP,OAAO,CAACY,QAAQ,CAAC;MACnDL,KAAI,CAACP,OAAO,CAACa,aAAa,GAAG,KAAK;MAClCN,KAAI,CAACR,MAAM,CAACe,aAAa,CAAC,SAAS,CAAC;IAAC;EACvC;EAAC,QAAAC,CAAA,G;qBAzBUlB,WAAW,EAAAmB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,MAAA,GAAAH,EAAA,CAAAC,QAAA,CAAAG,EAAA,CAAAC,OAAA;EAAA;EAAA,QAAAC,EAAA,G;WAAXzB,WAAW;IAAA0B,OAAA,EAAX1B,WAAW,CAAA2B,IAAA;IAAAC,UAAA,EAFV;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}